<div class="wallet-section mb-5">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h4 class="fw-bold m-0">{{ isAr ? 'المحافظ الرقمية' : 'Digital Wallets' }}</h4>
    <button class="btn btn-dark rounded-pill px-4 py-2 fw-bold d-flex align-items-center gap-2">
      <i class="bi bi-plus-circle-fill"></i>
      <span>{{ isAr ? 'إضافة محفظة' : 'Add Wallet' }}</span>
    </button>
  </div>

  <div class="row g-4">
    @for (wallet of wallets; track wallet.id) {
      <div class="col-xl-3 col-md-6">
        <div class="wallet-card p-4 bg-white rounded-4 shadow-soft border-0 transition-all">
          <div class="d-flex justify-content-between align-items-center mb-4">
            <div class="d-flex align-items-center gap-3">
              <div
                class="wallet-icon p-2 rounded-3"
                [class]="
                  'bg-soft-' + getTheme(wallet.category) + ' text-' + getTheme(wallet.category)
                "
              >
                <i class="bi" [class]="getIcon(wallet.category)"></i>
              </div>
              <div>
                <h6 class="fw-bold m-0">
                  {{ isAr ? wallet.nameAr : wallet.nameEn || wallet.nameAr }}
                </h6>
                <span class="fs-xs text-secondary text-uppercase">{{
                  getCategoryLabel(wallet.category)
                }}</span>
              </div>
            </div>
            <div class="status-badge px-2 py-1 rounded-pill bg-soft-green text-green fs-xs fw-bold">
              {{ isAr ? 'جديد' : 'NEW' }}
            </div>
          </div>

          <div class="balance-info mb-3">
            <div class="d-flex justify-content-between align-items-center mb-2">
              <span class="fs-xs text-secondary fw-bold">EGP</span>
              <h3 class="fw-extrabold m-0 text-dark">
                {{ getWalletBalance(wallet).toLocaleString() }}
              </h3>
            </div>
            <div class="progress rounded-pill shadow-sm">
              <div
                class="progress-bar rounded-pill"
                [class]="'bg-' + getTheme(wallet.category)"
                [style.width.%]="getProgress(wallet)"
              ></div>
            </div>
          </div>

          <div class="d-flex justify-content-between fs-xs">
            <div class="d-flex gap-1 align-items-center">
              <span class="text-secondary opacity-75">{{ isAr ? 'المتبقي:' : 'Left:' }}</span>
              <span class="fw-bold" [class]="'text-' + getTheme(wallet.category)">
                {{ getWalletBalance(wallet).toLocaleString() }}
              </span>
            </div>
            <div class="d-flex gap-1 align-items-center">
              <span class="text-secondary opacity-75">{{ isAr ? 'الميزانية:' : 'Budget:' }}</span>
              <span class="text-secondary fw-bold">{{ getBudget(wallet) }}</span>
            </div>
          </div>
        </div>
      </div>
    }
  </div>
</div>
